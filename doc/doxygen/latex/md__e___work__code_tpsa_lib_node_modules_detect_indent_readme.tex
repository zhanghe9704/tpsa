\begin{quote}
Detect the indentation of code \end{quote}
Pass in a string of any kind of text and get the indentation.\hypertarget{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md943}{}\doxysection{Use cases}\label{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md943}

\begin{DoxyItemize}
\item Persisting the indentation when modifying a file.
\item Have new content match the existing indentation.
\item Setting the right indentation in your editor.
\end{DoxyItemize}\hypertarget{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md944}{}\doxysection{Install}\label{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md944}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$ npm install detect-\/indent}

\end{DoxyCode}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md945}{}\doxysection{Usage}\label{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md945}
Here we modify a JSON file while persisting the indentation\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const fs = require('fs');}
\DoxyCodeLine{const detectIndent = require('detect-\/indent');}
\DoxyCodeLine{}
\DoxyCodeLine{/*}
\DoxyCodeLine{\{}
\DoxyCodeLine{    "{}ilove"{}: "{}pizza"{}}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}
\DoxyCodeLine{const file = fs.readFileSync('foo.json', 'utf8');}
\DoxyCodeLine{}
\DoxyCodeLine{// Tries to detect the indentation and falls back to a default if it can't}
\DoxyCodeLine{const indent = detectIndent(file).indent || '    ';}
\DoxyCodeLine{}
\DoxyCodeLine{const json = JSON.parse(file);}
\DoxyCodeLine{}
\DoxyCodeLine{json.ilove = 'unicorns';}
\DoxyCodeLine{}
\DoxyCodeLine{fs.writeFileSync('foo.json', JSON.stringify(json, null, indent));}
\DoxyCodeLine{/*}
\DoxyCodeLine{\{}
\DoxyCodeLine{    "{}ilove"{}: "{}unicorns"{}}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}

\end{DoxyCode}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md946}{}\doxysection{API}\label{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md946}
Accepts a string and returns an object with stats about the indentation\+:


\begin{DoxyItemize}
\item {\ttfamily amount} \{number\} -\/ Amount of indentation, for example {\ttfamily 2}
\item {\ttfamily type} \{\textquotesingle{}tab\textquotesingle{} $\vert$ \textquotesingle{}space\textquotesingle{} $\vert$ undefined\} -\/ Type of indentation. Possible values are `\textquotesingle{}tab'{\ttfamily ,}\textquotesingle{}space\textquotesingle{}{\ttfamily or}undefined{\ttfamily if no indentation is detected $\ast$}indent\`{} \{string\} -\/ Actual indentation
\end{DoxyItemize}\hypertarget{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md947}{}\doxysection{Algorithm}\label{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md947}
The current algorithm looks for the most common difference between two consecutive non-\/empty lines.

In the following example, even if the 4-\/space indentation is used 3 times whereas the 2-\/space one is used 2 times, it is detected as less used because there were only 2 differences with this value instead of 4 for the 2-\/space indentation\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{html \{}
\DoxyCodeLine{  box-\/sizing: border-\/box;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{body \{}
\DoxyCodeLine{  background: gray;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{p \{}
\DoxyCodeLine{    line-\/height: 1.3em;}
\DoxyCodeLine{    margin-\/top: 1em;}
\DoxyCodeLine{    text-\/indent: 2em;}
\DoxyCodeLine{\}}

\end{DoxyCode}


\href{https://medium.com/@heatherarthur/detecting-code-indentation-eff3ed0fb56b\#3918}{\texttt{ Source.}}

Furthermore, if there are more than one most used difference, the indentation with the most lines is selected.

In the following example, the indentation is detected as 4-\/spaces\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{body \{}
\DoxyCodeLine{  background: gray;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{p \{}
\DoxyCodeLine{    line-\/height: 1.3em;}
\DoxyCodeLine{    margin-\/top: 1em;}
\DoxyCodeLine{    text-\/indent: 2em;}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md948}{}\doxysection{Related}\label{md__e___work__code_tpsa_lib_node_modules_detect_indent_readme_autotoc_md948}

\begin{DoxyItemize}
\item \href{https://github.com/sindresorhus/detect-indent-cli}{\texttt{ detect-\/indent-\/cli}} -\/ CLI for this module
\item \href{https://github.com/sindresorhus/detect-newline}{\texttt{ detect-\/newline}} -\/ Detect the dominant newline character of a string
\item \href{https://github.com/stefanpenner/detect-indent-rs}{\texttt{ detect-\/indent-\/rs}} -\/ Rust port
\end{DoxyItemize}

\DoxyHorRuler{0}


 {\bfseries{ \href{https://tidelift.com/subscription/pkg/npm-detect-indent?utm_source=npm-detect-indent&utm_medium=referral&utm_campaign=readme}{\texttt{ Get professional support for this package with a Tidelift subscription}} }} ~\newline
 \textsubscript{ Tidelift helps make open source sustainable for maintainers while giving companies~\newline
assurances about security, maintenance, and licensing for their dependencies. }  