\begin{quote}
Fork of \href{https://www.npmjs.com/package/v8-compile-cache}{\texttt{ {\ttfamily v8-\/compile-\/cache}}} exposed as an API for programmatic usage in other libraries and tools. \end{quote}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3182}{}\doxysection{$<$/blockquote$>$}\label{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3182}
\href{https://github.com/cspotcode/v8-compile-cache-lib/actions?query=workflow\%3A\%22Continuous+Integration\%22}{\texttt{ }}

{\ttfamily v8-\/compile-\/cache-\/lib} attaches a {\ttfamily require} hook to use \href{https://v8project.blogspot.com/2015/07/code-caching.html}{\texttt{ V8\textquotesingle{}s code cache}} to speed up instantiation time. The \char`\"{}code cache\char`\"{} is the work of parsing and compiling done by V8.

The ability to tap into V8 to produce/consume this cache was introduced in \href{https://nodejs.org/en/blog/release/v5.7.0/}{\texttt{ Node v5.\+7.\+0}}.\hypertarget{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3183}{}\doxysection{Usage}\label{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3183}

\begin{DoxyEnumerate}
\item Add the dependency\+:
\end{DoxyEnumerate}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ npm install -\/-\/save v8-\/compile-\/cache-\/lib}

\end{DoxyCode}



\begin{DoxyEnumerate}
\item Then, in your entry module add\+:
\end{DoxyEnumerate}


\begin{DoxyCode}{0}
\DoxyCodeLine{require('v8-\/compile-\/cache-\/lib').install();}

\end{DoxyCode}


$\ast$$\ast${\ttfamily .install()} in Node $<$5.\+7.\+0 is a noop â€“ but you need at least Node 4.\+0.\+0 to support the ES2015 syntax used by {\ttfamily v8-\/compile-\/cache-\/lib}.$\ast$$\ast$\hypertarget{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3184}{}\doxysection{Options}\label{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3184}
Set the environment variable {\ttfamily DISABLE\+\_\+\+V8\+\_\+\+COMPILE\+\_\+\+CACHE=1} to disable the cache.

Cache directory is defined by environment variable {\ttfamily V8\+\_\+\+COMPILE\+\_\+\+CACHE\+\_\+\+CACHE\+\_\+\+DIR} or defaults to {\ttfamily $<$os.\+tmpdir()$>$/v8-\/compile-\/cache-\/$<$V8\+\_\+\+VERSION$>$}.\hypertarget{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3185}{}\doxysection{Internals}\label{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3185}
Cache files are suffixed {\ttfamily .BLOB} and {\ttfamily .MAP} corresponding to the entry module that required {\ttfamily v8-\/compile-\/cache-\/lib}. The cache is {\itshape entry module specific} because it is faster to load the entire code cache into memory at once, than it is to read it from disk on a file-\/by-\/file basis.\hypertarget{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3186}{}\doxysection{Benchmarks}\label{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3186}
See \href{https://github.com/cspotcode/v8-compile-cache-lib/tree/master/bench}{\texttt{ https\+://github.\+com/cspotcode/v8-\/compile-\/cache-\/lib/tree/master/bench}}.

{\bfseries{Load Times\+:}}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Module   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Without Cache   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ With Cache    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Module   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Without Cache   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ With Cache    }\\\cline{1-3}
\endhead
{\ttfamily babel-\/core}   &\PBS\raggedleft {\ttfamily 218ms}   &\PBS\raggedleft {\ttfamily 185ms}    \\\cline{1-3}
{\ttfamily yarn}   &\PBS\raggedleft {\ttfamily 153ms}   &\PBS\raggedleft {\ttfamily 113ms}    \\\cline{1-3}
{\ttfamily yarn} (bundled)   &\PBS\raggedleft {\ttfamily 228ms}   &\PBS\raggedleft {\ttfamily 105ms}   \\\cline{1-3}
\end{longtabu}


\+\_\+$^\wedge$ Includes the overhead of loading the cache itself.\+\_\+\hypertarget{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3187}{}\doxysection{Acknowledgements}\label{md__e___work__code_tpsa_lib_node_modules_v8_compile_cache_lib__r_e_a_d_m_e_autotoc_md3187}

\begin{DoxyItemize}
\item The original \href{https://github.com/zertosh/v8-compile-cache}{\texttt{ {\ttfamily v8-\/compile-\/cache}}} from which this library is forked.
\item {\ttfamily File\+System\+Blob\+Store} and {\ttfamily Native\+Compile\+Cache} are based on Atom\textquotesingle{}s implementation of their v8 compile cache\+:
\begin{DoxyItemize}
\item \href{https://github.com/atom/atom/blob/b0d7a8a/src/file-system-blob-store.js}{\texttt{ https\+://github.\+com/atom/atom/blob/b0d7a8a/src/file-\/system-\/blob-\/store.\+js}}
\item \href{https://github.com/atom/atom/blob/b0d7a8a/src/native-compile-cache.js}{\texttt{ https\+://github.\+com/atom/atom/blob/b0d7a8a/src/native-\/compile-\/cache.\+js}}
\end{DoxyItemize}
\item {\ttfamily mkdirp\+Sync} is based on\+:
\begin{DoxyItemize}
\item \href{https://github.com/substack/node-mkdirp/blob/f2003bb/index.js\#L55-L98}{\texttt{ https\+://github.\+com/substack/node-\/mkdirp/blob/f2003bb/index.\+js\#\+L55-\/\+L98}} 
\end{DoxyItemize}
\end{DoxyItemize}