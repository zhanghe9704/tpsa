Easily read/write JSON files in Node.\+js. {\itshape Note\+: this module cannot be used in the browser.}

\href{https://www.npmjs.org/package/jsonfile}{\texttt{ }} \href{http://travis-ci.org/jprichardson/node-jsonfile}{\texttt{ }} \href{https://ci.appveyor.com/project/jprichardson/node-jsonfile/branch/master}{\texttt{ }}

\href{https://github.com/feross/standard}{\texttt{ }}\hypertarget{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1808}{}\doxysection{Why?}\label{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1808}
Writing {\ttfamily JSON.\+stringify()} and then {\ttfamily fs.\+write\+File()} and {\ttfamily JSON.\+parse()} with {\ttfamily fs.\+read\+File()} enclosed in {\ttfamily try/catch} blocks became annoying.\hypertarget{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1809}{}\doxysection{Installation}\label{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1809}
\begin{DoxyVerb}npm install --save jsonfile
\end{DoxyVerb}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1810}{}\doxysection{API}\label{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1810}

\begin{DoxyItemize}
\item \href{\#readfilefilename-options-callback}{\texttt{ {\ttfamily read\+File(filename, \mbox{[}options\mbox{]}, callback)}}}
\item \href{\#readfilesyncfilename-options}{\texttt{ {\ttfamily read\+File\+Sync(filename, \mbox{[}options\mbox{]})}}}
\item \href{\#writefilefilename-obj-options-callback}{\texttt{ {\ttfamily write\+File(filename, obj, \mbox{[}options\mbox{]}, callback)}}}
\item \href{\#writefilesyncfilename-obj-options}{\texttt{ {\ttfamily write\+File\+Sync(filename, obj, \mbox{[}options\mbox{]})}}}
\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1812}{}\doxysubsection{read\+File(filename, \mbox{[}options\mbox{]}, callback)}\label{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1812}
{\ttfamily options} ({\ttfamily object}, default {\ttfamily undefined})\+: Pass in any \href{https://nodejs.org/api/fs.html\#fs_fs_readfile_path_options_callback}{\texttt{ {\ttfamily fs.\+read\+File}}} options or set {\ttfamily reviver} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse}{\texttt{ JSON reviver}}.
\begin{DoxyItemize}
\item {\ttfamily throws} ({\ttfamily boolean}, default\+: {\ttfamily true}). If {\ttfamily JSON.\+parse} throws an error, pass this error to the callback. If {\ttfamily false}, returns {\ttfamily null} for the object.
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{jsonfile.readFile(file, function (err, obj) \{}
\DoxyCodeLine{  if (err) console.error(err)}
\DoxyCodeLine{  console.dir(obj)}
\DoxyCodeLine{\})}

\end{DoxyCode}


You can also use this method with promises. The {\ttfamily read\+File} method will return a promise if you do not pass a callback function.


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{jsonfile.readFile(file)}
\DoxyCodeLine{  .then(obj => console.dir(obj))}
\DoxyCodeLine{  .catch(error => console.error(error))}

\end{DoxyCode}


\DoxyHorRuler{0}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1814}{}\doxysubsection{read\+File\+Sync(filename, \mbox{[}options\mbox{]})}\label{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1814}
{\ttfamily options} ({\ttfamily object}, default {\ttfamily undefined})\+: Pass in any \href{https://nodejs.org/api/fs.html\#fs_fs_readfilesync_path_options}{\texttt{ {\ttfamily fs.\+read\+File\+Sync}}} options or set {\ttfamily reviver} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse}{\texttt{ JSON reviver}}.
\begin{DoxyItemize}
\item {\ttfamily throws} ({\ttfamily boolean}, default\+: {\ttfamily true}). If an error is encountered reading or parsing the file, throw the error. If {\ttfamily false}, returns {\ttfamily null} for the object.
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{}
\DoxyCodeLine{console.dir(jsonfile.readFileSync(file))}

\end{DoxyCode}


\DoxyHorRuler{0}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1816}{}\doxysubsection{write\+File(filename, obj, \mbox{[}options\mbox{]}, callback)}\label{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1816}
{\ttfamily options}\+: Pass in any \href{https://nodejs.org/api/fs.html\#fs_fs_writefile_file_data_options_callback}{\texttt{ {\ttfamily fs.\+write\+File}}} options or set {\ttfamily replacer} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}{\texttt{ JSON replacer}}. Can also pass in {\ttfamily spaces}, or override {\ttfamily EOL} string or set {\ttfamily final\+EOL} flag as {\ttfamily false} to not save the file with {\ttfamily EOL} at the end.


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFile(file, obj, function (err) \{}
\DoxyCodeLine{  if (err) console.error(err)}
\DoxyCodeLine{\})}

\end{DoxyCode}
 Or use with promises as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFile(file, obj)}
\DoxyCodeLine{  .then(res => \{}
\DoxyCodeLine{    console.log('Write complete')}
\DoxyCodeLine{  \})}
\DoxyCodeLine{  .catch(error => console.error(error))}

\end{DoxyCode}


{\bfseries{formatting with spaces\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFile(file, obj, \{ spaces: 2 \}, function (err) \{}
\DoxyCodeLine{  if (err) console.error(err)}
\DoxyCodeLine{\})}

\end{DoxyCode}


{\bfseries{overriding EOL\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFile(file, obj, \{ spaces: 2, EOL: '\(\backslash\)r\(\backslash\)n' \}, function (err) \{}
\DoxyCodeLine{  if (err) console.error(err)}
\DoxyCodeLine{\})}

\end{DoxyCode}


{\bfseries{disabling the EOL at the end of file\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFile(file, obj, \{ spaces: 2, finalEOL: false \}, function (err) \{}
\DoxyCodeLine{  if (err) console.log(err)}
\DoxyCodeLine{\})}

\end{DoxyCode}


{\bfseries{appending to an existing JSON file\+:}}

You can use {\ttfamily fs.\+write\+File} option `\{ flag\+: \textquotesingle{}a' \}\`{} to achieve this.


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/mayAlreadyExistedData.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFile(file, obj, \{ flag: 'a' \}, function (err) \{}
\DoxyCodeLine{  if (err) console.error(err)}
\DoxyCodeLine{\})}

\end{DoxyCode}


\DoxyHorRuler{0}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1818}{}\doxysubsection{write\+File\+Sync(filename, obj, \mbox{[}options\mbox{]})}\label{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1818}
{\ttfamily options}\+: Pass in any \href{https://nodejs.org/api/fs.html\#fs_fs_writefilesync_file_data_options}{\texttt{ {\ttfamily fs.\+write\+File\+Sync}}} options or set {\ttfamily replacer} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}{\texttt{ JSON replacer}}. Can also pass in {\ttfamily spaces}, or override {\ttfamily EOL} string or set {\ttfamily final\+EOL} flag as {\ttfamily false} to not save the file with {\ttfamily EOL} at the end.


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFileSync(file, obj)}

\end{DoxyCode}


{\bfseries{formatting with spaces\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFileSync(file, obj, \{ spaces: 2 \})}

\end{DoxyCode}


{\bfseries{overriding EOL\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFileSync(file, obj, \{ spaces: 2, EOL: '\(\backslash\)r\(\backslash\)n' \})}

\end{DoxyCode}


{\bfseries{disabling the EOL at the end of file\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/data.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFileSync(file, obj, \{ spaces: 2, finalEOL: false \})}

\end{DoxyCode}


{\bfseries{appending to an existing JSON file\+:}}

You can use {\ttfamily fs.\+write\+File\+Sync} option `\{ flag\+: \textquotesingle{}a' \}\`{} to achieve this.


\begin{DoxyCode}{0}
\DoxyCodeLine{const jsonfile = require('jsonfile')}
\DoxyCodeLine{}
\DoxyCodeLine{const file = '/tmp/mayAlreadyExistedData.json'}
\DoxyCodeLine{const obj = \{ name: 'JP' \}}
\DoxyCodeLine{}
\DoxyCodeLine{jsonfile.writeFileSync(file, obj, \{ flag: 'a' \})}

\end{DoxyCode}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1819}{}\doxysection{License}\label{md__e___work__code_tpsa_lib_node_modules_jsonfile__r_e_a_d_m_e_autotoc_md1819}
(MIT License)

Copyright 2012-\/2016, JP Richardson \href{mailto:jprichardson@gmail.com}{\texttt{ jprichardson@gmail.\+com}} 