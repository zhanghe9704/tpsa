\href{https://travis-ci.org/RyanZim/universalify}{\texttt{ }}   

Make a callback-\/ or promise-\/based function support both promises and callbacks.

Uses the native promise implementation.\hypertarget{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3137}{}\doxysection{Installation}\label{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3137}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm install universalify}

\end{DoxyCode}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3138}{}\doxysection{API}\label{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3138}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3139}{}\doxysubsection{$<$tt$>$universalify.\+from\+Callback(fn)$<$/tt$>$}\label{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3139}
Takes a callback-\/based function to universalify, and returns the universalified function.

Function must take a callback as the last parameter that will be called with the signature {\ttfamily (error, result)}. {\ttfamily universalify} does not support calling the callback with three or more arguments, and does not ensure that the callback is only called once.


\begin{DoxyCode}{0}
\DoxyCodeLine{function callbackFn (n, cb) \{}
\DoxyCodeLine{  setTimeout(() => cb(null, n), 15)}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const fn = universalify.fromCallback(callbackFn)}
\DoxyCodeLine{}
\DoxyCodeLine{// Works with Promises:}
\DoxyCodeLine{fn('Hello World!')}
\DoxyCodeLine{.then(result => console.log(result)) // -\/> Hello World!}
\DoxyCodeLine{.catch(error => console.error(error))}
\DoxyCodeLine{}
\DoxyCodeLine{// Works with Callbacks:}
\DoxyCodeLine{fn('Hi!', (error, result) => \{}
\DoxyCodeLine{  if (error) return console.error(error)}
\DoxyCodeLine{  console.log(result)}
\DoxyCodeLine{  // -\/> Hi!}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3140}{}\doxysubsection{$<$tt$>$universalify.\+from\+Promise(fn)$<$/tt$>$}\label{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3140}
Takes a promise-\/based function to universalify, and returns the universalified function.

Function must return a valid JS promise. {\ttfamily universalify} does not ensure that a valid promise is returned.


\begin{DoxyCode}{0}
\DoxyCodeLine{function promiseFn (n) \{}
\DoxyCodeLine{  return new Promise(resolve => \{}
\DoxyCodeLine{    setTimeout(() => resolve(n), 15)}
\DoxyCodeLine{  \})}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const fn = universalify.fromPromise(promiseFn)}
\DoxyCodeLine{}
\DoxyCodeLine{// Works with Promises:}
\DoxyCodeLine{fn('Hello World!')}
\DoxyCodeLine{.then(result => console.log(result)) // -\/> Hello World!}
\DoxyCodeLine{.catch(error => console.error(error))}
\DoxyCodeLine{}
\DoxyCodeLine{// Works with Callbacks:}
\DoxyCodeLine{fn('Hi!', (error, result) => \{}
\DoxyCodeLine{  if (error) return console.error(error)}
\DoxyCodeLine{  console.log(result)}
\DoxyCodeLine{  // -\/> Hi!}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3141}{}\doxysection{License}\label{md__e___work__code_tpsa_lib_node_modules_universalify__r_e_a_d_m_e_autotoc_md3141}
MIT 