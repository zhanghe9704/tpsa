<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cppTPSA: URI.js</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cppTPSA
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__e___work__code_tpsa_lib_node_modules_uri_js__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">URI.js </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>URI.js is an <a href="http://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> compliant, scheme extendable URI parsing/validating/resolving library for all JavaScript environments (browsers, Node.js, etc). It is also compliant with the IRI (<a href="http://www.ietf.org/rfc/rfc3987.txt">RFC 3987</a>), IDNA (<a href="http://www.ietf.org/rfc/rfc5890.txt">RFC 5890</a>), IPv6 Address (<a href="http://www.ietf.org/rfc/rfc5952.txt">RFC 5952</a>), IPv6 Zone Identifier (<a href="http://www.ietf.org/rfc/rfc6874.txt">RFC 6874</a>) specifications.</p>
<p>URI.js has an extensive test suite, and works in all (Node.js, web) environments. It weighs in at 6.4kb (gzipped, 17kb deflated).</p>
<h1><a class="anchor" id="autotoc_md3143"></a>
API</h1>
<h2><a class="anchor" id="autotoc_md3144"></a>
Parsing</h2>
<pre class="fragment">URI.parse("uri://user:pass@example.com:123/one/two.three?q1=a1&amp;q2=a2#body");
//returns:
//{
//  scheme : "uri",
//  userinfo : "user:pass",
//  host : "example.com",
//  port : 123,
//  path : "/one/two.three",
//  query : "q1=a1&amp;q2=a2",
//  fragment : "body"
//}
</pre> <h2><a class="anchor" id="autotoc_md3145"></a>
Serializing</h2>
<pre class="fragment">URI.serialize({scheme : "http", host : "example.com", fragment : "footer"}) === "http://example.com/#footer"
</pre> <h2><a class="anchor" id="autotoc_md3146"></a>
Resolving</h2>
<pre class="fragment">URI.resolve("uri://a/b/c/d?q", "../../g") === "uri://a/g"
</pre> <h2><a class="anchor" id="autotoc_md3147"></a>
Normalizing</h2>
<pre class="fragment">URI.normalize("HTTP://ABC.com:80/%7Esmith/home.html") === "http://abc.com/~smith/home.html"
</pre> <h2><a class="anchor" id="autotoc_md3148"></a>
Comparison</h2>
<pre class="fragment">URI.equal("example://a/b/c/%7Bfoo%7D", "eXAMPLE://a/./b/../b/%63/%7bfoo%7d") === true
</pre> <h2><a class="anchor" id="autotoc_md3149"></a>
IP Support</h2>
<pre class="fragment">//IPv4 normalization
URI.normalize("//192.068.001.000") === "//192.68.1.0"

//IPv6 normalization
URI.normalize("//[2001:0:0DB8::0:0001]") === "//[2001:0:db8::1]"

//IPv6 zone identifier support
URI.parse("//[2001:db8::7%25en1]");
//returns:
//{
//  host : "2001:db8::7%en1"
//}
</pre> <h2><a class="anchor" id="autotoc_md3150"></a>
IRI Support</h2>
<pre class="fragment">//convert IRI to URI
URI.serialize(URI.parse("http://examplé.org/rosé")) === "http://xn--exampl-gva.org/ros%C3%A9"
//convert URI to IRI
URI.serialize(URI.parse("http://xn--exampl-gva.org/ros%C3%A9"), {iri:true}) === "http://examplé.org/rosé"
</pre> <h2><a class="anchor" id="autotoc_md3151"></a>
Options</h2>
<p>All of the above functions can accept an additional options argument that is an object that can contain one or more of the following properties:</p>
<ul>
<li><p class="startli"><code>scheme</code> (string)</p>
<p class="startli">Indicates the scheme that the URI should be treated as, overriding the URI's normal scheme parsing behavior.</p>
</li>
<li><p class="startli"><code>reference</code> (string)</p>
<p class="startli">If set to <code>"suffix"</code>, it indicates that the URI is in the suffix format, and the validator will use the option's <code>scheme</code> property to determine the URI's scheme.</p>
</li>
<li><p class="startli"><code>tolerant</code> (boolean, false)</p>
<p class="startli">If set to <code>true</code>, the parser will relax URI resolving rules.</p>
</li>
<li><p class="startli"><code>absolutePath</code> (boolean, false)</p>
<p class="startli">If set to <code>true</code>, the serializer will not resolve a relative <code>path</code> component.</p>
</li>
<li><p class="startli"><code>iri</code> (boolean, false)</p>
<p class="startli">If set to <code>true</code>, the serializer will unescape non-ASCII characters as per <a href="http://www.ietf.org/rfc/rfc3987.txt">RFC 3987</a>.</p>
</li>
<li><p class="startli"><code>unicodeSupport</code> (boolean, false)</p>
<p class="startli">If set to <code>true</code>, the parser will unescape non-ASCII characters in the parsed output as per <a href="http://www.ietf.org/rfc/rfc3987.txt">RFC 3987</a>.</p>
</li>
<li><p class="startli"><code>domainHost</code> (boolean, false)</p>
<p class="startli">If set to <code>true</code>, the library will treat the <code>host</code> component as a domain name, and convert IDNs (International Domain Names) as per <a href="http://www.ietf.org/rfc/rfc5891.txt">RFC 5891</a>.</p>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md3152"></a>
Scheme Extendable</h1>
<p>URI.js supports inserting custom <a href="http://en.wikipedia.org/wiki/URI_scheme">scheme</a> dependent processing rules. Currently, URI.js has built in support for the following schemes:</p>
<ul>
<li>http [<a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>]</li>
<li>https [<a href="http://www.ietf.org/rfc/rfc2818.txt">RFC 2818</a>]</li>
<li>ws [<a href="http://www.ietf.org/rfc/rfc6455.txt">RFC 6455</a>]</li>
<li>wss [<a href="http://www.ietf.org/rfc/rfc6455.txt">RFC 6455</a>]</li>
<li>mailto [<a href="http://www.ietf.org/rfc/rfc6068.txt">RFC 6068</a>]</li>
<li>urn [<a href="http://www.ietf.org/rfc/rfc2141.txt">RFC 2141</a>]</li>
<li>urn:uuid [<a href="http://www.ietf.org/rfc/rfc4122.txt">RFC 4122</a>]</li>
</ul>
<h2><a class="anchor" id="autotoc_md3153"></a>
HTTP/HTTPS Support</h2>
<pre class="fragment">URI.equal("HTTP://ABC.COM:80", "http://abc.com/") === true
URI.equal("https://abc.com", "HTTPS://ABC.COM:443/") === true
</pre> <h2><a class="anchor" id="autotoc_md3154"></a>
WS/WSS Support</h2>
<pre class="fragment">URI.parse("wss://example.com/foo?bar=baz");
//returns:
//{
//  scheme : "wss",
//  host: "example.com",
//  resourceName: "/foo?bar=baz",
//  secure: true,
//}

URI.equal("WS://ABC.COM:80/chat#one", "ws://abc.com/chat") === true
</pre> <h2><a class="anchor" id="autotoc_md3155"></a>
Mailto Support</h2>
<pre class="fragment">URI.parse("mailto:alpha@example.com,bravo@example.com?subject=SUBSCRIBE&amp;body=Sign%20me%20up!");
//returns:
//{
//  scheme : "mailto",
//  to : ["alpha@example.com", "bravo@example.com"],
//  subject : "SUBSCRIBE",
//  body : "Sign me up!"
//}

URI.serialize({
    scheme : "mailto",
    to : ["alpha@example.com"],
    subject : "REMOVE",
    body : "Please remove me",
    headers : {
        cc : "charlie@example.com"
    }
}) === "mailto:alpha@example.com?cc=charlie@example.com&amp;subject=REMOVE&amp;body=Please%20remove%20me"
</pre> <h2><a class="anchor" id="autotoc_md3156"></a>
URN Support</h2>
<pre class="fragment">URI.parse("urn:example:foo");
//returns:
//{
//  scheme : "urn",
//  nid : "example",
//  nss : "foo",
//}
</pre> <h3><a class="anchor" id="autotoc_md3157"></a>
URN UUID Support</h3>
<pre class="fragment">URI.parse("urn:uuid:f81d4fae-7dec-11d0-a765-00a0c91e6bf6");
//returns:
//{
//  scheme : "urn",
//  nid : "uuid",
//  uuid : "f81d4fae-7dec-11d0-a765-00a0c91e6bf6",
//}
</pre> <h1><a class="anchor" id="autotoc_md3158"></a>
Usage</h1>
<p>To load in a browser, use the following tag: </p><pre class="fragment">&lt;script type="text/javascript" src="uri-js/dist/es5/uri.all.min.js"&gt;&lt;/script&gt;
</pre><p> To load in a CommonJS/Module environment, first install with npm/yarn by running on the command line: </p><pre class="fragment">npm install uri-js
# OR
yarn add uri-js
</pre><p> Then, in your code, load it using: </p><pre class="fragment">const URI = require("uri-js");
</pre><p> If you are writing your code in ES6+ (ESNEXT) or TypeScript, you would load it using: </p><pre class="fragment">import * as URI from "uri-js";
</pre><p> Or you can load just what you need using named exports: </p><pre class="fragment">import { parse, serialize, resolve, resolveComponents, normalize, equal, removeDotSegments, pctEncChar, pctDecChars, escapeComponent, unescapeComponent } from "uri-js";
</pre> <h1><a class="anchor" id="autotoc_md3159"></a>
Breaking changes</h1>
<h2><a class="anchor" id="autotoc_md3160"></a>
Breaking changes from 3.x</h2>
<p>URN parsing has been completely changed to better align with the specification. Scheme is now always <code>urn</code>, but has two new properties: <code>nid</code> which contains the Namspace Identifier, and <code>nss</code> which contains the Namespace Specific String. The <code>nss</code> property will be removed by higher order scheme handlers, such as the UUID URN scheme handler.</p>
<p>The UUID of a URN can now be found in the <code>uuid</code> property.</p>
<h2><a class="anchor" id="autotoc_md3161"></a>
Breaking changes from 2.x</h2>
<p>URI validation has been removed as it was slow, exposed a vulnerabilty, and was generally not useful.</p>
<h2><a class="anchor" id="autotoc_md3162"></a>
Breaking changes from 1.x</h2>
<p>The <code>errors</code> array on parsed components is now an <code>error</code> string. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
