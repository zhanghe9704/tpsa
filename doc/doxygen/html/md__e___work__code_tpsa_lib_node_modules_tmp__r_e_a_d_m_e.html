<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cppTPSA: Tmp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cppTPSA
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__e___work__code_tpsa_lib_node_modules_tmp__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Tmp </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A simple temporary file and directory creator for <a href="http://nodejs.org/">node.js.</a></p>
<p><a href="https://travis-ci.org/raszi/node-tmp"><img src="https://travis-ci.org/raszi/node-tmp.svg?branch=master" alt="Build Status" style="pointer-events: none;" class="inline"/></a> <a href="https://david-dm.org/raszi/node-tmp"><img src="https://david-dm.org/raszi/node-tmp.svg" alt="Dependencies" style="pointer-events: none;" class="inline"/></a> <a href="https://badge.fury.io/js/tmp"><img src="https://badge.fury.io/js/tmp.svg" alt="npm version" style="pointer-events: none;" class="inline"/></a> <a href="https://raszi.github.io/node-tmp/"><img src="https://img.shields.io/badge/API-documented-brightgreen.svg" alt="API documented" style="pointer-events: none;" class="inline"/></a> <a href="https://snyk.io/test/npm/tmp"><img src="https://snyk.io/test/npm/tmp/badge.svg" alt="Known Vulnerabilities" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md2946"></a>
About</h1>
<p>This is a <a href="https://www.npmjs.com/browse/depended/tmp">widely used library</a> to create temporary files and directories in a <a href="http://nodejs.org/">node.js</a> environment.</p>
<p>Tmp offers both an asynchronous and a synchronous API. For all API calls, all the parameters are optional. There also exists a promisified version of the API, see (5) under references below.</p>
<p>Tmp uses crypto for determining random file names, or, when using templates, a six letter random identifier. And just in case that you do not have that much entropy left on your system, Tmp will fall back to pseudo random numbers.</p>
<p>You can set whether you want to remove the temporary file on process exit or not, and the destination directory can also be set.</p>
<h1><a class="anchor" id="autotoc_md2947"></a>
How to install</h1>
<div class="fragment"><div class="line">npm install tmp</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2948"></a>
Usage</h1>
<p>Please also check <a href="https://raszi.github.io/node-tmp/">API docs</a>.</p>
<h2><a class="anchor" id="autotoc_md2949"></a>
Asynchronous file creation</h2>
<p>Simple temporary file creation, the file will be closed and unlinked on process exit.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.file(function _tempFileCreated(err, path, fd, cleanupCallback) {</div>
<div class="line">  if (err) throw err;</div>
<div class="line"> </div>
<div class="line">  console.log(&#39;File: &#39;, path);</div>
<div class="line">  console.log(&#39;Filedescriptor: &#39;, fd);</div>
<div class="line">  </div>
<div class="line">  // If we don&#39;t need the file anymore we could manually call the cleanupCallback</div>
<div class="line">  // But that is not necessary if we didn&#39;t pass the keep option because the library</div>
<div class="line">  // will clean after itself.</div>
<div class="line">  cleanupCallback();</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2950"></a>
Synchronous file creation</h2>
<p>A synchronous version of the above.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">var tmpobj = tmp.fileSync();</div>
<div class="line">console.log(&#39;File: &#39;, tmpobj.name);</div>
<div class="line">console.log(&#39;Filedescriptor: &#39;, tmpobj.fd);</div>
<div class="line">  </div>
<div class="line">// If we don&#39;t need the file anymore we could manually call the removeCallback</div>
<div class="line">// But that is not necessary if we didn&#39;t pass the keep option because the library</div>
<div class="line">// will clean after itself.</div>
<div class="line">tmpobj.removeCallback();</div>
</div><!-- fragment --><p>Note that this might throw an exception if either the maximum limit of retries for creating a temporary name fails, or, in case that you do not have the permission to write to the directory where the temporary file should be created in.</p>
<h2><a class="anchor" id="autotoc_md2951"></a>
Asynchronous directory creation</h2>
<p>Simple temporary directory creation, it will be removed on process exit.</p>
<p>If the directory still contains items on process exit, then it won't be removed.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.dir(function _tempDirCreated(err, path, cleanupCallback) {</div>
<div class="line">  if (err) throw err;</div>
<div class="line"> </div>
<div class="line">  console.log(&#39;Dir: &#39;, path);</div>
<div class="line">  </div>
<div class="line">  // Manual cleanup</div>
<div class="line">  cleanupCallback();</div>
<div class="line">});</div>
</div><!-- fragment --><p>If you want to cleanup the directory even when there are entries in it, then you can pass the <code>unsafeCleanup</code> option when creating it.</p>
<h2><a class="anchor" id="autotoc_md2952"></a>
Synchronous directory creation</h2>
<p>A synchronous version of the above.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">var tmpobj = tmp.dirSync();</div>
<div class="line">console.log(&#39;Dir: &#39;, tmpobj.name);</div>
<div class="line">// Manual cleanup</div>
<div class="line">tmpobj.removeCallback();</div>
</div><!-- fragment --><p>Note that this might throw an exception if either the maximum limit of retries for creating a temporary name fails, or, in case that you do not have the permission to write to the directory where the temporary directory should be created in.</p>
<h2><a class="anchor" id="autotoc_md2953"></a>
Asynchronous filename generation</h2>
<p>It is possible with this library to generate a unique filename in the specified directory.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.tmpName(function _tempNameGenerated(err, path) {</div>
<div class="line">    if (err) throw err;</div>
<div class="line"> </div>
<div class="line">    console.log(&#39;Created temporary filename: &#39;, path);</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2954"></a>
Synchronous filename generation</h2>
<p>A synchronous version of the above.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">var name = tmp.tmpNameSync();</div>
<div class="line">console.log(&#39;Created temporary filename: &#39;, name);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2955"></a>
Advanced usage</h1>
<h2><a class="anchor" id="autotoc_md2956"></a>
Asynchronous file creation</h2>
<p>Creates a file with mode <code>0644</code>, prefix will be <code>prefix-</code> and postfix will be <code>.txt</code>.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.file({ mode: 0644, prefix: &#39;prefix-&#39;, postfix: &#39;.txt&#39; }, function _tempFileCreated(err, path, fd) {</div>
<div class="line">  if (err) throw err;</div>
<div class="line"> </div>
<div class="line">  console.log(&#39;File: &#39;, path);</div>
<div class="line">  console.log(&#39;Filedescriptor: &#39;, fd);</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2957"></a>
Synchronous file creation</h2>
<p>A synchronous version of the above.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">var tmpobj = tmp.fileSync({ mode: 0644, prefix: &#39;prefix-&#39;, postfix: &#39;.txt&#39; });</div>
<div class="line">console.log(&#39;File: &#39;, tmpobj.name);</div>
<div class="line">console.log(&#39;Filedescriptor: &#39;, tmpobj.fd);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2958"></a>
Controlling the Descriptor</h2>
<p>As a side effect of creating a unique file <code>tmp</code> gets a file descriptor that is returned to the user as the <code>fd</code> parameter. The descriptor may be used by the application and is closed when the <code>removeCallback</code> is invoked.</p>
<p>In some use cases the application does not need the descriptor, needs to close it without removing the file, or needs to remove the file without closing the descriptor. Two options control how the descriptor is managed:</p>
<ul>
<li><code>discardDescriptor</code> - if <code>true</code> causes <code>tmp</code> to close the descriptor after the file is created. In this case the <code>fd</code> parameter is undefined.</li>
<li><code>detachDescriptor</code> - if <code>true</code> causes <code>tmp</code> to return the descriptor in the <code>fd</code> parameter, but it is the application's responsibility to close it when it is no longer needed.</li>
</ul>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.file({ discardDescriptor: true }, function _tempFileCreated(err, path, fd, cleanupCallback) {</div>
<div class="line">  if (err) throw err;</div>
<div class="line">  // fd will be undefined, allowing application to use fs.createReadStream(path)</div>
<div class="line">  // without holding an unused descriptor open.</div>
<div class="line">});</div>
</div><!-- fragment --><div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.file({ detachDescriptor: true }, function _tempFileCreated(err, path, fd, cleanupCallback) {</div>
<div class="line">  if (err) throw err;</div>
<div class="line"> </div>
<div class="line">  cleanupCallback();</div>
<div class="line">  // Application can store data through fd here; the space used will automatically</div>
<div class="line">  // be reclaimed by the operating system when the descriptor is closed or program</div>
<div class="line">  // terminates.</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2959"></a>
Asynchronous directory creation</h2>
<p>Creates a directory with mode <code>0755</code>, prefix will be <code>myTmpDir_</code>.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.dir({ mode: 0750, prefix: &#39;myTmpDir_&#39; }, function _tempDirCreated(err, path) {</div>
<div class="line">  if (err) throw err;</div>
<div class="line"> </div>
<div class="line">  console.log(&#39;Dir: &#39;, path);</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2960"></a>
Synchronous directory creation</h2>
<p>Again, a synchronous version of the above.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">var tmpobj = tmp.dirSync({ mode: 0750, prefix: &#39;myTmpDir_&#39; });</div>
<div class="line">console.log(&#39;Dir: &#39;, tmpobj.name);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2961"></a>
mkstemp like, asynchronously</h2>
<p>Creates a new temporary directory with mode <code>0700</code> and filename like <code>/tmp/tmp-nk2J1u</code>.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.dir({ template: &#39;/tmp/tmp-XXXXXX&#39; }, function _tempDirCreated(err, path) {</div>
<div class="line">  if (err) throw err;</div>
<div class="line"> </div>
<div class="line">  console.log(&#39;Dir: &#39;, path);</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2962"></a>
mkstemp like, synchronously</h2>
<p>This will behave similarly to the asynchronous version.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">var tmpobj = tmp.dirSync({ template: &#39;/tmp/tmp-XXXXXX&#39; });</div>
<div class="line">console.log(&#39;Dir: &#39;, tmpobj.name);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2963"></a>
Asynchronous filename generation</h2>
<p>The <code>tmpName()</code> function accepts the <code>prefix</code>, <code>postfix</code>, <code>dir</code>, etc. parameters also:</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.tmpName({ template: &#39;/tmp/tmp-XXXXXX&#39; }, function _tempNameGenerated(err, path) {</div>
<div class="line">    if (err) throw err;</div>
<div class="line"> </div>
<div class="line">    console.log(&#39;Created temporary filename: &#39;, path);</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2964"></a>
Synchronous filename generation</h2>
<p>The <code>tmpNameSync()</code> function works similarly to <code>tmpName()</code>.</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line">var tmpname = tmp.tmpNameSync({ template: &#39;/tmp/tmp-XXXXXX&#39; });</div>
<div class="line">console.log(&#39;Created temporary filename: &#39;, tmpname);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2965"></a>
Graceful cleanup</h1>
<p>One may want to cleanup the temporary files even when an uncaught exception occurs. To enforce this, you can call the <code>setGracefulCleanup()</code> method:</p>
<div class="fragment"><div class="line">var tmp = require(&#39;tmp&#39;);</div>
<div class="line"> </div>
<div class="line">tmp.setGracefulCleanup();</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2966"></a>
Options</h1>
<p>All options are optional :)</p>
<ul>
<li><code>mode</code>: the file mode to create with, it fallbacks to <code>0600</code> on file creation and <code>0700</code> on directory creation</li>
<li><code>prefix</code>: the optional prefix, fallbacks to <code>tmp-</code> if not provided</li>
<li><code>postfix</code>: the optional postfix, fallbacks to <code>.tmp</code> on file creation</li>
<li><code>template</code>: <a href="http://www.kernel.org/doc/man-pages/online/pages/man3/mkstemp.3.html"><code>mkstemp</code></a> like filename template, no default</li>
<li><code>dir</code>: the optional temporary directory, fallbacks to system default (guesses from environment)</li>
<li><code>tries</code>: how many times should the function try to get a unique filename before giving up, default <code>3</code></li>
<li><code>keep</code>: signals that the temporary file or directory should not be deleted on exit, default is <code>false</code>, means delete<ul>
<li>Please keep in mind that it is recommended in this case to call the provided <code>cleanupCallback</code> function manually.</li>
</ul>
</li>
<li><code>unsafeCleanup</code>: recursively removes the created temporary directory, even when it's not empty. default is <code>false</code> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
