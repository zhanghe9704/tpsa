<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cppTPSA: Acorn</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cppTPSA
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__e___work__code_tpsa_lib_node_modules_acorn__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Acorn </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A tiny, fast JavaScript parser written in JavaScript.</p>
<h1><a class="anchor" id="autotoc_md372"></a>
Community</h1>
<p>Acorn is open source software released under an <a href="https://github.com/acornjs/acorn/blob/master/acorn/LICENSE">MIT license</a>.</p>
<p>You are welcome to <a href="https://github.com/acornjs/acorn/issues">report bugs</a> or create pull requests on <a href="https://github.com/acornjs/acorn">github</a>. For questions and discussion, please use the <a href="https://discuss.ternjs.net">Tern discussion forum</a>.</p>
<h1><a class="anchor" id="autotoc_md373"></a>
Installation</h1>
<p>The easiest way to install acorn is from <a href="https://www.npmjs.com/"><code>npm</code></a>:</p>
<div class="fragment"><div class="line">npm install acorn</div>
</div><!-- fragment --><p>Alternately, you can download the source and build acorn yourself:</p>
<div class="fragment"><div class="line">git clone https://github.com/acornjs/acorn.git</div>
<div class="line">cd acorn</div>
<div class="line">npm install</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md374"></a>
Interface</h1>
<p><b>parse</b><code>(input, options)</code> is the main interface to the library. The <code>input</code> parameter is a string, <code>options</code> must be an object setting some of the options listed below. The return value will be an abstract syntax tree object as specified by the <a href="https://github.com/estree/estree">ESTree spec</a>.</p>
<div class="fragment"><div class="line">let acorn = require(&quot;acorn&quot;);</div>
<div class="line">console.log(acorn.parse(&quot;1 + 1&quot;, {ecmaVersion: 2020}));</div>
</div><!-- fragment --><p>When encountering a syntax error, the parser will raise a <code>SyntaxError</code> object with a meaningful message. The error object will have a <code>pos</code> property that indicates the string offset at which the error occurred, and a <code>loc</code> object that contains a <code>{line, column}</code> object referring to that same position.</p>
<p>Options are provided by in a second argument, which should be an object containing any of these fields (only <code>ecmaVersion</code> is required):</p>
<ul>
<li><p class="startli"><b>ecmaVersion</b>: Indicates the ECMAScript version to parse. Must be either 3, 5, 6 (or 2015), 7 (2016), 8 (2017), 9 (2018), 10 (2019), 11 (2020), 12 (2021), 13 (2022), 14 (2023), or <code>"latest"</code> (the latest the library supports). This influences support for strict mode, the set of reserved words, and support for new syntax features.</p>
<p class="startli"><b>NOTE</b>: Only 'stage 4' (finalized) ECMAScript features are being implemented by Acorn. Other proposed new features must be implemented through plugins.</p>
</li>
<li><p class="startli"><b>sourceType</b>: Indicate the mode the code should be parsed in. Can be either <code>"script"</code> or <code>"module"</code>. This influences global strict mode and parsing of <code>import</code> and <code>export</code> declarations.</p>
<p class="startli"><b>NOTE</b>: If set to <code>"module"</code>, then static <code>import</code> / <code>export</code> syntax will be valid, even if <code>ecmaVersion</code> is less than 6.</p>
</li>
<li><b>onInsertedSemicolon</b>: If given a callback, that callback will be called whenever a missing semicolon is inserted by the parser. The callback will be given the character offset of the point where the semicolon is inserted as argument, and if <code>locations</code> is on, also a <code>{line, column}</code> object representing this position.</li>
<li><b>onTrailingComma</b>: Like <code>onInsertedSemicolon</code>, but for trailing commas.</li>
<li><b>allowReserved</b>: If <code>false</code>, using a reserved word will generate an error. Defaults to <code>true</code> for <code>ecmaVersion</code> 3, <code>false</code> for higher versions. When given the value <code>"never"</code>, reserved words and keywords can also not be used as property names (as in Internet Explorer's old parser).</li>
<li><b>allowReturnOutsideFunction</b>: By default, a return statement at the top level raises an error. Set this to <code>true</code> to accept such code.</li>
<li><b>allowImportExportEverywhere</b>: By default, <code>import</code> and <code>export</code> declarations can only appear at a program's top level. Setting this option to <code>true</code> allows them anywhere where a statement is allowed, and also allows <code>import.meta</code> expressions to appear in scripts (when <code>sourceType</code> is not <code>"module"</code>).</li>
<li><b>allowAwaitOutsideFunction</b>: If <code>false</code>, <code>await</code> expressions can only appear inside <code>async</code> functions. Defaults to <code>true</code> for <code>ecmaVersion</code> 2022 and later, <code>false</code> for lower versions. Setting this option to <code>true</code> allows to have top-level <code>await</code> expressions. They are still not allowed in non-<code>async</code> functions, though.</li>
<li><b>allowSuperOutsideMethod</b>: By default, <code>super</code> outside a method raises an error. Set this to <code>true</code> to accept such code.</li>
<li><b>allowHashBang</b>: When this is enabled, if the code starts with the characters <code>#!</code> (as in a shellscript), the first line will be treated as a comment. Defaults to true when <code>ecmaVersion</code> &gt;= 2023.</li>
<li><b>locations</b>: When <code>true</code>, each node has a <code>loc</code> object attached with <code>start</code> and <code>end</code> subobjects, each of which contains the one-based line and zero-based column numbers in <code>{line, column}</code> form. Default is <code>false</code>.</li>
<li><p class="startli"><b>onToken</b>: If a function is passed for this option, each found token will be passed in same format as tokens returned from <code>tokenizer().getToken()</code>.</p>
<p class="startli">If array is passed, each found token is pushed to it.</p>
<p class="startli">Note that you are not allowed to call the parser from the callback—that will corrupt its internal state.</p>
</li>
<li><p class="startli"><b>onComment</b>: If a function is passed for this option, whenever a comment is encountered the function will be called with the following parameters:</p><ul>
<li><code>block</code>: <code>true</code> if the comment is a block comment, false if it is a line comment.</li>
<li><code>text</code>: The content of the comment.</li>
<li><code>start</code>: Character offset of the start of the comment.</li>
<li><code>end</code>: Character offset of the end of the comment.</li>
</ul>
<p class="startli">When the <code>locations</code> options is on, the <code>{line, column}</code> locations of the comment’s start and end are passed as two additional parameters.</p>
<p class="startli">If array is passed for this option, each found comment is pushed to it as object in Esprima format:</p>
</li>
</ul>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;type&quot;: &quot;Line&quot; | &quot;Block&quot;,</div>
<div class="line">  &quot;value&quot;: &quot;comment text&quot;,</div>
<div class="line">  &quot;start&quot;: Number,</div>
<div class="line">  &quot;end&quot;: Number,</div>
<div class="line">  // If `locations` option is on:</div>
<div class="line">  &quot;loc&quot;: {</div>
<div class="line">    &quot;start&quot;: {line: Number, column: Number}</div>
<div class="line">    &quot;end&quot;: {line: Number, column: Number}</div>
<div class="line">  },</div>
<div class="line">  // If `ranges` option is on:</div>
<div class="line">  &quot;range&quot;: [Number, Number]</div>
<div class="line">}</div>
</div><!-- fragment --><p>Note that you are not allowed to call the parser from the callback—that will corrupt its internal state.</p>
<ul>
<li><b>ranges</b>: Nodes have their start and end characters offsets recorded in <code>start</code> and <code>end</code> properties (directly on the node, rather than the <code>loc</code> object, which holds line/column data. To also add a <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=745678">semi-standardized</a> <code>range</code> property holding a <code>[start, end]</code> array with the same numbers, set the <code>ranges</code> option to <code>true</code>.</li>
<li><b>program</b>: It is possible to parse multiple files into a single AST by passing the tree produced by parsing the first file as the <code>program</code> option in subsequent parses. This will add the toplevel forms of the parsed file to the "Program" (top) node of an existing parse tree.</li>
<li><b>sourceFile</b>: When the <code>locations</code> option is <code>true</code>, you can pass this option to add a <code>source</code> attribute in every node’s <code>loc</code> object. Note that the contents of this option are not examined or processed in any way; you are free to use whatever format you choose.</li>
<li><b>directSourceFile</b>: Like <code>sourceFile</code>, but a <code>sourceFile</code> property will be added (regardless of the <code>location</code> option) directly to the nodes, rather than the <code>loc</code> object.</li>
<li><b>preserveParens</b>: If this option is <code>true</code>, parenthesized expressions are represented by (non-standard) <code>ParenthesizedExpression</code> nodes that have a single <code>expression</code> property containing the expression inside parentheses.</li>
</ul>
<p><b>parseExpressionAt</b><code>(input, offset, options)</code> will parse a single expression in a string, and return its AST. It will not complain if there is more of the string left after the expression.</p>
<p><b>tokenizer</b><code>(input, options)</code> returns an object with a <code>getToken</code> method that can be called repeatedly to get the next token, a <code>{start, end, type, value}</code> object (with added <code>loc</code> property when the <code>locations</code> option is enabled and <code>range</code> property when the <code>ranges</code> option is enabled). When the token's type is <code>tokTypes.eof</code>, you should stop calling the method, since it will keep returning that same token forever.</p>
<p>In ES6 environment, returned result can be used as any other protocol-compliant iterable:</p>
<div class="fragment"><div class="line">for (let token of acorn.tokenizer(str)) {</div>
<div class="line">  // iterate over the tokens</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// transform code to array of tokens:</div>
<div class="line">var tokens = [...acorn.tokenizer(str)];</div>
</div><!-- fragment --><p><b>tokTypes</b> holds an object mapping names to the token type objects that end up in the <code>type</code> properties of tokens.</p>
<p><b>getLineInfo</b><code>(input, offset)</code> can be used to get a <code>{line, column}</code> object for a given program string and offset.</p>
<h2><a class="anchor" id="autotoc_md375"></a>
The &lt;tt&gt;Parser&lt;/tt&gt; class</h2>
<p>Instances of the **<code>Parser</code>** class contain all the state and logic that drives a parse. It has static methods <code>parse</code>, <code>parseExpressionAt</code>, and <code>tokenizer</code> that match the top-level functions by the same name.</p>
<p>When extending the parser with plugins, you need to call these methods on the extended version of the class. To extend a parser with plugins, you can use its static <code>extend</code> method.</p>
<div class="fragment"><div class="line">var acorn = require(&quot;acorn&quot;);</div>
<div class="line">var jsx = require(&quot;acorn-jsx&quot;);</div>
<div class="line">var JSXParser = acorn.Parser.extend(jsx());</div>
<div class="line">JSXParser.parse(&quot;foo(&lt;bar/&gt;)&quot;, {ecmaVersion: 2020});</div>
</div><!-- fragment --><p>The <code>extend</code> method takes any number of plugin values, and returns a new <code>Parser</code> class that includes the extra parser logic provided by the plugins.</p>
<h1><a class="anchor" id="autotoc_md376"></a>
Command line interface</h1>
<p>The <code>bin/acorn</code> utility can be used to parse a file from the command line. It accepts as arguments its input file and the following options:</p>
<ul>
<li><code>--ecma3|--ecma5|--ecma6|--ecma7|--ecma8|--ecma9|--ecma10</code>: Sets the ECMAScript version to parse. Default is version 9.</li>
<li><code>--module</code>: Sets the parsing mode to <code>"module"</code>. Is set to <code>"script"</code> otherwise.</li>
<li><code>--locations</code>: Attaches a "loc" object to each node with "start" and "end" subobjects, each of which contains the one-based line and zero-based column numbers in <code>{line, column}</code> form.</li>
<li><code>--allow-hash-bang</code>: If the code starts with the characters #! (as in a shellscript), the first line will be treated as a comment.</li>
<li><code>--allow-await-outside-function</code>: Allows top-level <code>await</code> expressions. See the <code>allowAwaitOutsideFunction</code> option for more information.</li>
<li><code>--compact</code>: No whitespace is used in the AST output.</li>
<li><code>--silent</code>: Do not output the AST, just return the exit status.</li>
<li><code>--help</code>: Print the usage information and quit.</li>
</ul>
<p>The utility spits out the syntax tree as JSON data.</p>
<h1><a class="anchor" id="autotoc_md377"></a>
Existing plugins</h1>
<ul>
<li><a href="https://github.com/RReverser/acorn-jsx"><code>acorn-jsx</code></a>: Parse <a href="https://github.com/facebook/jsx">Facebook JSX syntax extensions</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
